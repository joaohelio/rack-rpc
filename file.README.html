<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Rack::RPC - JSON-RPC/XML-RPC Server for Rack Applications
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/highlight.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/highlight.pack.js"></script>

  <script type="text/javascript" charset="utf-8">
    hljs.configure({languages:[]});
    //$(document).ready(function() {
    //  $('code').each(function(i, e) {hljs.highlightBlock(e)});
    //});
    hljs.initHighlightingOnLoad();
  </script>

  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1>JSON-RPC/XML-RPC Server for Rack Applications</h1>

<p><a href="http://travis-ci.org/rack-rpc/rack-rpc"><img src="https://secure.travis-ci.org/rack-rpc/rack-rpc.png?branch=master" alt="Build Status"></a></p>

<p>Version: 0.0.11</p>

<ul>
<li>  The latest documentation can always be found at <a href="http://rack-rpc.github.io/rack-rpc">http://rack-rpc.github.io/rack-rpc</a>.</li>
<li>  Source code repository lives <a href="http://github.com/rack-rpc/rack-rpc">here, at GitHub</a>.</li>
<li>  The gems can be found <a href="http://rubygems.org/gems/rack-rpc">here, at RubyGems</a>.</li>
</ul>

<p><strong>Rack::RPC</strong> is <a href="http://rack.github.io/">Rack</a> middleware that facilitates the creation of
protocol-agnostic RPC servers. The current implementation provides support
for <a href="http://www.jsonrpc.org/">JSON-RPC 2.0</a> and <a href="http://www.xmlrpc.com/">XML-RPC</a>.</p>

<ul>
<li>Handles JSON-RPC and XML-RPC requests with the same code.</li>
<li>Compatible with any Rack application and any Rack-based framework.</li>
<li>Provides Rails-style controller filtering for your RPC methods.</li>
</ul>

<h2>Examples</h2>

<h3>A basic RPC server</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rack/rpc</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>class</span> <span class='const'>Server</span> <span class='op'>&lt;</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>RPC</span><span class='op'>::</span><span class='const'>Server</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_hello_world'>hello_world</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rpc'>rpc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello_world</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='symbol'>:hello_world</span>
<span class='kw'>end</span>
</code></pre>

<h3>Simple filtering</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rack/rpc</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>class</span> <span class='const'>Server</span> <span class='op'>&lt;</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>RPC</span><span class='op'>::</span><span class='const'>Server</span>
  <span class='id identifier rubyid_before_filter'>before_filter</span> <span class='symbol'>:check_auth</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_hello_world'>hello_world</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rpc'>rpc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello_world</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='symbol'>:hello_world</span>

  <span class='id identifier rubyid_private'>private</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_check_auth'>check_auth</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not authorized</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_authorized'>authorized</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<h3>Filtering via a proc with more options</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rack/rpc</span><span class='tstring_end'>&#39;</span></span>

<span class='kw'>class</span> <span class='const'>Server</span> <span class='op'>&lt;</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>RPC</span><span class='op'>::</span><span class='const'>Server</span>
  <span class='id identifier rubyid_before_filter'>before_filter</span> <span class='symbol'>:check_auth</span><span class='comma'>,</span> <span class='symbol'>:only</span> <span class='op'>=&gt;</span> <span class='symbol'>:super_secret_hello_world</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not authorized</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_authorized'>authorized</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_hello_world'>hello_world</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rpc'>rpc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello_world</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='symbol'>:hello_world</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_super_secret_hello_world'>super_secret_hello_world</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>super_secret_hello_world</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rpc'>rpc</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>super_secret_hello_world</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='symbol'>:super_secret_hello_world</span>
<span class='kw'>end</span>
</code></pre>

<h3>Running the server</h3>

<pre class="code ruby"><code class="ruby"><span class='comment'># config.ru
</span><span class='id identifier rubyid_use'>use</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>RPC</span><span class='op'>::</span><span class='const'>Endpoint</span><span class='comma'>,</span> <span class='const'>Server</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='id identifier rubyid_run'>run</span> <span class='const'>MyApplication</span>
</code></pre>

<h3>Customizing the default RPC path</h3>

<pre class="code ruby"><code class="ruby"><span class='comment'># config.ru
</span><span class='id identifier rubyid_use'>use</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>RPC</span><span class='op'>::</span><span class='const'>Endpoint</span><span class='comma'>,</span> <span class='const'>Server</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='symbol'>:path</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/api</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_run'>run</span> <span class='const'>MyApplication</span>
</code></pre>

<h2>More on Filters</h2>

<p>The <code>:only</code> and <code>:except</code> options for filters can take a single method or an
array of methods.</p>

<p>You can halt execution in a filter by raising an exception. An error
response will be returned with the exception&#39;s message set as the error
object&#39;s message text.</p>

<h2>Communicationg with the Server</h2>

<p>By default, methods will only be invoked on <code>POST</code> requests to &quot;/rpc&quot;. The
default path can be overridden by sending a <code>:path</code> option when creating
your middleware (see example above).</p>

<p>The protocol used is determined by the <code>CONTENT_TYPE</code> header
(&quot;application/xml&quot; and &quot;text/xml&quot; for XML and &quot;application/json&quot; for JSON).</p>

<h2>Dependencies</h2>

<ul>
<li><a href="http://rubygems.org/gems/rack">Rack</a> (&gt;= 1.0.0)</li>
<li><a href="http://rubygems.org/gems/builder">Builder</a> (&gt;= 2.1.2)</li>
</ul>

<h2>Installation</h2>

<p>The recommended installation method is via <a href="https://rubygems.org/">RubyGems</a>.
To install the latest official release of the gem, run:</p>

<pre class="code bash"><code class="bash">gem install rack-rpc
</code></pre>

<p>To get a local working copy of the development repository, do:</p>

<pre class="code bash"><code class="bash">git clone git://github.com/rack-rpc/rack-rpc.git
</code></pre>

<p>Alternatively, download the latest development version as a tarball as
follows:</p>

<pre class="code bash"><code class="bash">wget https://github.com/rack-rpc/rack-rpc/tarball/master
</code></pre>

<h2>Authors</h2>

<ul>
<li><a href="https://github.com/bendiken">Arto Bendiken</a> - <a href="http://ar.to/">http://ar.to/</a></li>
<li><a href="https://github.com/jhuckabee">Josh Huckabee</a> - <a href="http://joshhuckabee.com/">http://joshhuckabee.com/</a></li>
<li><a href="https://github.com/threez">Vincent Landgraf</a></li>
</ul>

<h2>License</h2>

<p>This is free and unencumbered public domain software. For more information,
see <a href="http://unlicense.org/">http://unlicense.org/</a> or the accompanying <a href="file.UNLICENSE.html" title="UNLICENSE">UNLICENSE</a> file.</p>
</div></div>

    <div id="footer">
  Generated on Thu Jun  5 11:16:43 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.0.0).
</div>

  </body>
</html>